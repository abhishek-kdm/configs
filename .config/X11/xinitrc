# vim: ft=sh

xdirname=$(dirname $0)    # eg. $XDG_CONFIG_HOME/X11/
xbasename=$(basename $0)  # eg. xinitrc
wm="$1"                   # dwm, xmonad etc

[ -f "$xdirname/Xresources" ] && xrdb -load "$xdirname/Xresources"

xsetroot -cursor_name left_ptr &  # good'ol left arrow.
xset r rate 300 50 &              # increase x rate.

xautolock &                       # auto lock (configs in Xresources).
dunst &                           # notification daemon.
sxhkd &                           # hotkey daemon.

# looks for something like $XDG_CONFIG_HOME/X11/xinitrc.d/xmonad.xinitrc
wm_xinitrc="$xdirname/$xbasename.d/${wm:-dwm}.$xbasename"
[ ! -x "$wm_xinitrc" ] && exit 1

$wm_xinitrc
